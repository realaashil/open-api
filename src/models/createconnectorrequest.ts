/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { ClosedEnum } from "../types/enums.js";
import {
  ConnectorAuthConfig,
  ConnectorAuthConfig$zodSchema,
} from "./connectorauthconfig.js";
import {
  ConnectorFiltersConfig,
  ConnectorFiltersConfig$zodSchema,
} from "./connectorfiltersconfig.js";
import { ConnectorScope, ConnectorScope$zodSchema } from "./connectorscope.js";
import {
  ConnectorSyncConfig,
  ConnectorSyncConfig$zodSchema,
} from "./connectorsyncconfig.js";

/**
 * Authentication type (required if connector supports multiple auth methods)
 */
export const AuthType = {
  Oauth: "OAUTH",
  OauthAdminConsent: "OAUTH_ADMIN_CONSENT",
  ApiToken: "API_TOKEN",
  UsernamePassword: "USERNAME_PASSWORD",
  ServiceAccount: "SERVICE_ACCOUNT",
} as const;
/**
 * Authentication type (required if connector supports multiple auth methods)
 */
export type AuthType = ClosedEnum<typeof AuthType>;

export const AuthType$zodSchema = z.enum([
  "OAUTH",
  "OAUTH_ADMIN_CONSENT",
  "API_TOKEN",
  "USERNAME_PASSWORD",
  "SERVICE_ACCOUNT",
]).describe(
  "Authentication type (required if connector supports multiple auth methods)",
);

/**
 * Initial configuration (can also be set after creation)
 */
export type CreateConnectorRequestConfig = {
  auth?: ConnectorAuthConfig | undefined;
  sync?: ConnectorSyncConfig | undefined;
  filters?: ConnectorFiltersConfig | undefined;
};

export const CreateConnectorRequestConfig$zodSchema: z.ZodType<
  CreateConnectorRequestConfig
> = z.object({
  auth: ConnectorAuthConfig$zodSchema.optional(),
  filters: ConnectorFiltersConfig$zodSchema.optional(),
  sync: ConnectorSyncConfig$zodSchema.optional(),
}).describe("Initial configuration (can also be set after creation)");

/**
 * Request to create a new connector instance
 */
export type CreateConnectorRequest = {
  connectorType: string;
  instanceName: string;
  scope: ConnectorScope;
  authType?: AuthType | undefined;
  config?: CreateConnectorRequestConfig | undefined;
  baseUrl?: string | undefined;
};

export const CreateConnectorRequest$zodSchema: z.ZodType<
  CreateConnectorRequest
> = z.object({
  authType: AuthType$zodSchema.optional(),
  baseUrl: z.string().optional(),
  config: z.lazy(() => CreateConnectorRequestConfig$zodSchema).optional(),
  connectorType: z.string(),
  instanceName: z.string(),
  scope: ConnectorScope$zodSchema,
}).describe("Request to create a new connector instance");
