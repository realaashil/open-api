/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { userGroupsCreateUserGroup } from "../../funcs/userGroupsCreateUserGroup.js";
import { CreateUserGroupRequest$zodSchema } from "../../models/createusergroupop.js";
import { formatResult, ToolDefinition } from "../tools.js";

const args = {
  request: CreateUserGroupRequest$zodSchema,
};

export const tool$userGroupsCreateUserGroup: ToolDefinition<typeof args> = {
  name: "user-groups-create-user-group",
  description: `Create user group

Create a new user group within the organization.<br><br>
<b>Group Types:</b><br>
<ul>
<li><code>admin</code> - Administrative group with elevated privileges</li>
<li><code>standard</code> - Regular user group</li>
<li><code>everyone</code> - Automatically includes all organization users</li>
<li><code>custom</code> - Custom group with manual membership management</li>
</ul>
<b>Validation Rules:</b><br>
<ul>
<li>Group name must be unique within the organization</li>
<li>Group name is required and cannot be empty</li>
<li>Type must be one of the allowed values</li>
</ul>
<b>Side Effects:</b><br>
<ul>
<li>Creates a unique slug from the group name</li>
<li>Sets createdBy to the authenticated user</li>
</ul>
`,
  annotations: {
    "title": "",
    "destructiveHint": false,
    "idempotentHint": false,
    "openWorldHint": false,
    "readOnlyHint": false,
  },
  args,
  tool: async (client, args, ctx) => {
    const [result] = await userGroupsCreateUserGroup(
      client,
      args.request,
      { fetchOptions: { signal: ctx.signal } },
    ).$inspect();

    if (!result.ok) {
      return {
        content: [{ type: "text", text: result.error.message }],
        isError: true,
      };
    }

    return formatResult(result.value);
  },
};
