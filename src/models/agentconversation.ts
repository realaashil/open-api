/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { ClosedEnum } from "../types/enums.js";
import { Message, Message$zodSchema } from "./message.js";

export const AgentConversationStatus = {
  Inprogress: "INPROGRESS",
  Completed: "COMPLETED",
  Failed: "FAILED",
} as const;
export type AgentConversationStatus = ClosedEnum<
  typeof AgentConversationStatus
>;

export const AgentConversationStatus$zodSchema = z.enum([
  "INPROGRESS",
  "COMPLETED",
  "FAILED",
]);

export const AgentConversationAccessLevel = {
  Read: "read",
  Write: "write",
} as const;
export type AgentConversationAccessLevel = ClosedEnum<
  typeof AgentConversationAccessLevel
>;

export const AgentConversationAccessLevel$zodSchema = z.enum([
  "read",
  "write",
]);

export type AgentConversationSharedWith = {
  userId?: string | undefined;
  accessLevel?: AgentConversationAccessLevel | undefined;
};

export const AgentConversationSharedWith$zodSchema: z.ZodType<
  AgentConversationSharedWith
> = z.object({
  accessLevel: AgentConversationAccessLevel$zodSchema.optional(),
  userId: z.string().optional(),
});

/**
 * A conversation with a specific AI agent. Similar to regular conversations
 *
 * @remarks
 * but tied to an agent's configuration and capabilities.
 */
export type AgentConversation = {
  _id?: string | undefined;
  agentKey?: string | undefined;
  userId?: string | undefined;
  orgId?: string | undefined;
  title?: string | undefined;
  messages?: Array<Message> | undefined;
  status?: AgentConversationStatus | undefined;
  isShared?: boolean | undefined;
  sharedWith?: Array<AgentConversationSharedWith> | undefined;
  lastActivityAt?: number | undefined;
  createdAt?: string | undefined;
  updatedAt?: string | undefined;
};

export const AgentConversation$zodSchema: z.ZodType<AgentConversation> = z
  .object({
    _id: z.string().optional(),
    agentKey: z.string().optional(),
    createdAt: z.iso.datetime({ offset: true }).optional(),
    isShared: z.boolean().optional(),
    lastActivityAt: z.int().optional(),
    messages: z.array(Message$zodSchema).optional(),
    orgId: z.string().optional(),
    sharedWith: z.array(z.lazy(() => AgentConversationSharedWith$zodSchema))
      .optional(),
    status: AgentConversationStatus$zodSchema.optional(),
    title: z.string().optional(),
    updatedAt: z.iso.datetime({ offset: true }).optional(),
    userId: z.string().optional(),
  }).describe(
    "A conversation with a specific AI agent. Similar to regular conversations\nbut tied to an agent's configuration and capabilities.\n",
  );
