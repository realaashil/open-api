/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { ClosedEnum } from "../types/enums.js";

/**
 * Sync strategy: MANUAL (user-triggered), SCHEDULED (interval/cron), WEBHOOK (event-driven), REALTIME (WebSocket)
 */
export const SelectedStrategy = {
  Manual: "MANUAL",
  Scheduled: "SCHEDULED",
  Webhook: "WEBHOOK",
  Realtime: "REALTIME",
} as const;
/**
 * Sync strategy: MANUAL (user-triggered), SCHEDULED (interval/cron), WEBHOOK (event-driven), REALTIME (WebSocket)
 */
export type SelectedStrategy = ClosedEnum<typeof SelectedStrategy>;

export const SelectedStrategy$zodSchema = z.enum([
  "MANUAL",
  "SCHEDULED",
  "WEBHOOK",
  "REALTIME",
]).describe(
  "Sync strategy: MANUAL (user-triggered), SCHEDULED (interval/cron), WEBHOOK (event-driven), REALTIME (WebSocket)",
);

/**
 * Configuration for scheduled sync strategy
 */
export type ScheduledConfig = {
  intervalMinutes?: number | undefined;
  cronExpression?: string | undefined;
  timezone?: string | undefined;
};

export const ScheduledConfig$zodSchema: z.ZodType<ScheduledConfig> = z.object({
  cronExpression: z.string().optional(),
  intervalMinutes: z.int().default(60),
  timezone: z.string().default("UTC"),
}).describe("Configuration for scheduled sync strategy");

/**
 * Configuration for webhook-based sync
 */
export type WebhookConfig = {
  webhookUrl?: string | undefined;
  events?: Array<string> | undefined;
};

export const WebhookConfig$zodSchema: z.ZodType<WebhookConfig> = z.object({
  events: z.array(z.string()).optional(),
  webhookUrl: z.string().optional(),
}).describe("Configuration for webhook-based sync");

/**
 * Synchronization configuration for a connector instance
 */
export type ConnectorSyncConfig = {
  selectedStrategy?: SelectedStrategy | undefined;
  scheduledConfig?: ScheduledConfig | undefined;
  webhookConfig?: WebhookConfig | undefined;
  values?: { [k: string]: any } | undefined;
  customValues?: { [k: string]: any } | undefined;
};

export const ConnectorSyncConfig$zodSchema: z.ZodType<ConnectorSyncConfig> = z
  .object({
    customValues: z.record(z.string(), z.any()).optional(),
    scheduledConfig: z.lazy(() => ScheduledConfig$zodSchema).optional(),
    selectedStrategy: SelectedStrategy$zodSchema.default("MANUAL"),
    values: z.record(z.string(), z.any()).optional(),
    webhookConfig: z.lazy(() => WebhookConfig$zodSchema).optional(),
  }).describe("Synchronization configuration for a connector instance");
