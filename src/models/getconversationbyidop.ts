/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { ClosedEnum } from "../types/enums.js";
import { Message, Message$zodSchema } from "./message.js";
import { SchemeOauth2, SchemeOauth2$zodSchema } from "./schemeoauth2.js";

export type GetConversationByIdSecurity = {
  bearerAuth?: string | undefined;
  oauth2?: SchemeOauth2 | undefined;
};

export const GetConversationByIdSecurity$zodSchema: z.ZodType<
  GetConversationByIdSecurity
> = z.object({
  bearerAuth: z.string().describe("JWT Bearer token for authenticated requests")
    .optional(),
  oauth2: SchemeOauth2$zodSchema.optional(),
});

/**
 * Sort direction
 */
export const GetConversationByIdSortOrder = {
  Asc: "asc",
  Desc: "desc",
} as const;
/**
 * Sort direction
 */
export type GetConversationByIdSortOrder = ClosedEnum<
  typeof GetConversationByIdSortOrder
>;

export const GetConversationByIdSortOrder$zodSchema = z.enum([
  "asc",
  "desc",
]).describe("Sort direction");

export type GetConversationByIdRequest = {
  conversationId: string;
  page?: number | undefined;
  limit?: number | undefined;
  sortBy?: string | undefined;
  sortOrder?: GetConversationByIdSortOrder | undefined;
};

export const GetConversationByIdRequest$zodSchema: z.ZodType<
  GetConversationByIdRequest
> = z.object({
  conversationId: z.string().describe("Unique conversation identifier"),
  limit: z.int().default(10).describe("Number of messages per page"),
  page: z.int().default(1).describe("Page number for message pagination"),
  sortBy: z.string().default("createdAt").describe("Field to sort messages by"),
  sortOrder: GetConversationByIdSortOrder$zodSchema.default("desc"),
});

/**
 * Current status of the conversation:
 *
 * @remarks
 * <ul>
 * <li><code>INPROGRESS</code> - AI is processing</li>
 * <li><code>COMPLETED</code> - Response ready</li>
 * <li><code>FAILED</code> - Error occurred</li>
 * </ul>
 */
export const GetConversationByIdStatus = {
  Inprogress: "INPROGRESS",
  Completed: "COMPLETED",
  Failed: "FAILED",
} as const;
/**
 * Current status of the conversation:
 *
 * @remarks
 * <ul>
 * <li><code>INPROGRESS</code> - AI is processing</li>
 * <li><code>COMPLETED</code> - Response ready</li>
 * <li><code>FAILED</code> - Error occurred</li>
 * </ul>
 */
export type GetConversationByIdStatus = ClosedEnum<
  typeof GetConversationByIdStatus
>;

export const GetConversationByIdStatus$zodSchema = z.enum([
  "INPROGRESS",
  "COMPLETED",
  "FAILED",
]).describe(
  "Current status of the conversation:\n<ul>\n<li><code>INPROGRESS</code> - AI is processing</li>\n<li><code>COMPLETED</code> - Response ready</li>\n<li><code>FAILED</code> - Error occurred</li>\n</ul>\n",
);

/**
 * AI model configuration used
 */
export type GetConversationByIdModelInfo = {
  modelKey?: string | undefined;
  modelName?: string | undefined;
  modelProvider?: string | undefined;
  chatMode?: string | undefined;
};

export const GetConversationByIdModelInfo$zodSchema: z.ZodType<
  GetConversationByIdModelInfo
> = z.object({
  chatMode: z.string().optional(),
  modelKey: z.string().optional(),
  modelName: z.string().optional(),
  modelProvider: z.string().optional(),
}).describe("AI model configuration used");

export const GetConversationByIdAccessLevel = {
  Read: "read",
  Write: "write",
} as const;
export type GetConversationByIdAccessLevel = ClosedEnum<
  typeof GetConversationByIdAccessLevel
>;

export const GetConversationByIdAccessLevel$zodSchema = z.enum([
  "read",
  "write",
]);

export type GetConversationByIdSharedWith = {
  userId?: string | undefined;
  accessLevel?: GetConversationByIdAccessLevel | undefined;
};

export const GetConversationByIdSharedWith$zodSchema: z.ZodType<
  GetConversationByIdSharedWith
> = z.object({
  accessLevel: GetConversationByIdAccessLevel$zodSchema.optional(),
  userId: z.string().optional(),
});

export type GetConversationByIdPagination = {
  page?: number | undefined;
  limit?: number | undefined;
  totalMessages?: number | undefined;
  totalPages?: number | undefined;
};

export const GetConversationByIdPagination$zodSchema: z.ZodType<
  GetConversationByIdPagination
> = z.object({
  limit: z.int().optional(),
  page: z.int().optional(),
  totalMessages: z.int().optional(),
  totalPages: z.int().optional(),
});

/**
 * A conversation represents a chat session between a user and the AI.
 *
 * @remarks
 * Conversations maintain context across multiple messages and can be
 * shared, archived, and organized.
 */
export type GetConversationByIdResponse = {
  _id?: string | undefined;
  userId?: string | undefined;
  orgId?: string | undefined;
  title?: string | undefined;
  initiator?: string | undefined;
  messages?: Array<Message> | undefined;
  status?: GetConversationByIdStatus | undefined;
  failReason?: string | undefined;
  modelInfo?: GetConversationByIdModelInfo | undefined;
  isShared?: boolean | undefined;
  shareLink?: string | undefined;
  sharedWith?: Array<GetConversationByIdSharedWith> | undefined;
  isArchived?: boolean | undefined;
  archivedBy?: string | undefined;
  lastActivityAt?: number | undefined;
  createdAt?: string | undefined;
  updatedAt?: string | undefined;
  pagination?: GetConversationByIdPagination | undefined;
};

export const GetConversationByIdResponse$zodSchema: z.ZodType<
  GetConversationByIdResponse
> = z.object({
  _id: z.string().optional(),
  archivedBy: z.string().optional(),
  createdAt: z.iso.datetime({ offset: true }).optional(),
  failReason: z.string().optional(),
  initiator: z.string().optional(),
  isArchived: z.boolean().default(false),
  isShared: z.boolean().default(false),
  lastActivityAt: z.int().optional(),
  messages: z.array(Message$zodSchema).optional(),
  modelInfo: z.lazy(() => GetConversationByIdModelInfo$zodSchema).optional(),
  orgId: z.string().optional(),
  pagination: z.lazy(() => GetConversationByIdPagination$zodSchema).optional(),
  shareLink: z.string().optional(),
  sharedWith: z.array(z.lazy(() => GetConversationByIdSharedWith$zodSchema))
    .optional(),
  status: GetConversationByIdStatus$zodSchema.optional(),
  title: z.string().optional(),
  updatedAt: z.iso.datetime({ offset: true }).optional(),
  userId: z.string().optional(),
}).describe(
  "A conversation represents a chat session between a user and the AI.\nConversations maintain context across multiple messages and can be\nshared, archived, and organized.\n",
);
